<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>透明单利模式</title>
</head>
<body>
    
</body>
</html>
<script>
    // var Singleton = (function () {
    //     var instance = null 
    //     var Singleton = function (name) {
    //         if(instance){
    //             return instance
    //         }
    //         this.name = name
    //         this.init()
    //         return instance = this; 
    //     }
    //     Singleton.prototype.init = function () {
    //         this.getName()
            
    //     }
    //     Singleton.prototype.getName = function () {
    //         console.log(this.name)
            
    //     }
    //     return Singleton

    //  })()
    //  var a = new Singleton('张三')
    //  var b = new Singleton('李四')

    // 生成闭包的环境，保存唯一类
    var Singleton = (function () {
        // 声明保存实例
        var instance = null;
        // 重新定义这个类
       var Singleton = function (name) {
           if(instance){
               return instance
           }
           this.name = name
           // 保存这个类
           return instance = this
       }
       Singleton.prototype.getName=function () {
           alert(this.name)
       }
       return Singleton
        
    })()

    var a = new Singleton('11')
    var b = new Singleton('22')
    alert(a===b)
    a.getName()
    b.getName()

</script>