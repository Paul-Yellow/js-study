<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>设计模式</title>
</head>

<body>

</body>

</html>
<script>

    //简易版版本
    var event = {
        // 储存订阅的列表
        clientList: {},
        //订阅的方法
        listen: function (key, fn) {
            if (!clientList[key]) {
                clientList[key] = []
            }
            clientList[key].push(fn)
        },
        // 发布消息
        trigger: function () {
            var key = [].shift.call(arguments)
            var fns = clientList[key]
            if (!fns || fns.length === 0) {
                return false
            }
            for (var i = 0, fn; fn = fns[i++];) {
                fn.apply(this, arguments)

            }


        },
        // 取消订阅
        remove: function (key, fn) {
            var fns = clientList[key]
            if (!fns) {
                return false
            }
            if (!fn) {
                fns && (fns.length = 0)

            } else {
                for (var i = 0, _fÍn; _fn = fns[i++];) {
                    if (fn === _fn) {
                        fns.splice(i, 1)
                    }

                }
            }

        }

    }

    // 完善版本
    // 特点：1.全局的模块发布     2.防止命名空间冲突      3.现发布后的订阅  
    var Event = (function () {
        var global = this,
            Event,
            _default = "default"
            Event = function () {
                var _listen,
                _trigger
                
            }



    })()



</script>